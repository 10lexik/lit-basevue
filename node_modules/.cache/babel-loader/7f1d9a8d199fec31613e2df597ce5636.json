{"remainingRequest":"/Users/glarcher/Workspace/export/lit-basevue/node_modules/babel-loader/lib/index.js!/Users/glarcher/Workspace/export/lit-basevue/node_modules/eslint-loader/index.js??ref--14-0!/Users/glarcher/Workspace/export/lit-basevue/src/js/plugins/timelineManager.js","dependencies":[{"path":"/Users/glarcher/Workspace/export/lit-basevue/src/js/plugins/timelineManager.js","mtime":1708360680000},{"path":"/Users/glarcher/Workspace/export/lit-basevue/babel.config.js","mtime":1708360680000},{"path":"/Users/glarcher/Workspace/export/lit-basevue/node_modules/cache-loader/dist/cjs.js","mtime":1708364821923},{"path":"/Users/glarcher/Workspace/export/lit-basevue/node_modules/babel-loader/lib/index.js","mtime":1708364822547},{"path":"/Users/glarcher/Workspace/export/lit-basevue/node_modules/eslint-loader/index.js","mtime":1708364822051}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL2pzL3BsdWdpbnMvZXZlbnQtYnVzJzsKaW1wb3J0IHsgZ3NhcCB9IGZyb20gJ2dzYXAnOwppbXBvcnQgeyBTY3JvbGxUcmlnZ2VyIH0gZnJvbSAnZ3NhcC9TY3JvbGxUcmlnZ2VyJzsKZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTsKY29uc3QgbWFzdGVyVGltZWxpbmUgPSBnc2FwLnRpbWVsaW5lKHsKICBwYXVzZWQ6IHRydWUsCiAgZGVsYXk6IDAuNQp9KTsKCi8vIHRpbWVsaW5lTWFuYWdlci5qcwoKLy8gUmVnaXN0ZXIgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIGhhbmRsZSBhZGRpbmcgYW5pbWF0aW9ucy4KRXZlbnRCdXMuJG9uKCdhZGQtYW5pbWF0aW9uJywgKGFuaW1hdGlvbiwgcG9zaXRpb24gPSAnKz0wJywgbGFiZWwpID0+IHsKICAvLyBFbnN1cmUgdGhhdCByZWxhdGl2ZSBwb3NpdGlvbiBjYWxjdWxhdGlvbnMgdXNpbmcgbGFiZWxzIGFyZSB2YWxpZC4KICBpZiAodHlwZW9mIHBvc2l0aW9uID09PSAnc3RyaW5nJyAmJiBwb3NpdGlvbi5pbmNsdWRlcygnKz0nKSAmJiBsYWJlbCkgewogICAgLy8gQ2hlY2sgaWYgdGhlIGxhYmVsIGV4aXN0cyBmaXJzdC4KICAgIGlmICghbWFzdGVyVGltZWxpbmUubGFiZWxzW2xhYmVsXSkgewogICAgICAvLyBJZiBub3QsIGNyZWF0ZSB0aGUgbGFiZWwgYXQgdGhlIGVuZCBvZiB0aGUgdGltZWxpbmUuCiAgICAgIG1hc3RlclRpbWVsaW5lLmFkZExhYmVsKGxhYmVsLCAnKz0wJyk7CiAgICB9CiAgICAvLyBUaGVuIGNhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gYmFzZWQgb24gdGhlIGV4aXN0aW5nIGxhYmVsLgogICAgcG9zaXRpb24gPSBsYWJlbCArIHBvc2l0aW9uOwogIH0KCiAgLy8gV2hldGhlciBhIGxhYmVsIGlzIHByb3ZpZGVkIG9yIG5vdCwgYWRkIHRoZSBhbmltYXRpb24gd2l0aCBjYWxjdWxhdGVkIHBvc2l0aW9uIG9yIGRlZmF1bHQuCiAgbWFzdGVyVGltZWxpbmUuYWRkKGFuaW1hdGlvbiwgcG9zaXRpb24pOwp9KTsKZXhwb3J0IGZ1bmN0aW9uIHBsYXlNYXN0ZXJUaW1lbGluZSgpIHsKICBtYXN0ZXJUaW1lbGluZS5wbGF5KCk7Cn0="},{"version":3,"names":["EventBus","gsap","ScrollTrigger","registerPlugin","masterTimeline","timeline","paused","delay","$on","animation","position","label","includes","labels","addLabel","add","playMasterTimeline","play"],"sources":["/Users/glarcher/Workspace/export/lit-basevue/src/js/plugins/timelineManager.js"],"sourcesContent":["import { EventBus } from '@/js/plugins/event-bus'\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\n\ngsap.registerPlugin(ScrollTrigger)\n\nconst masterTimeline = gsap.timeline({\n    paused: true,\n    delay: 0.5\n})\n\n// timelineManager.js\n\n// Register the event listener to handle adding animations.\nEventBus.$on('add-animation', (animation, position = '+=0', label) => {\n    // Ensure that relative position calculations using labels are valid.\n    if (typeof position === 'string' && position.includes('+=') && label) {\n        // Check if the label exists first.\n        if (!masterTimeline.labels[label]) {\n            // If not, create the label at the end of the timeline.\n            masterTimeline.addLabel(label, '+=0')\n        }\n        // Then calculate the relative position based on the existing label.\n        position = label + position\n    }\n\n    // Whether a label is provided or not, add the animation with calculated position or default.\n    masterTimeline.add(animation, position)\n})\n\nexport function playMasterTimeline() {\n    masterTimeline.play()\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,IAAI,QAAQ,MAAM;AAC3B,SAASC,aAAa,QAAQ,oBAAoB;AAElDD,IAAI,CAACE,cAAc,CAACD,aAAa,CAAC;AAElC,MAAME,cAAc,GAAGH,IAAI,CAACI,QAAQ,CAAC;EACjCC,MAAM,EAAE,IAAI;EACZC,KAAK,EAAE;AACX,CAAC,CAAC;;AAEF;;AAEA;AACAP,QAAQ,CAACQ,GAAG,CAAC,eAAe,EAAE,CAACC,SAAS,EAAEC,QAAQ,GAAG,KAAK,EAAEC,KAAK,KAAK;EAClE;EACA,IAAI,OAAOD,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAID,KAAK,EAAE;IAClE;IACA,IAAI,CAACP,cAAc,CAACS,MAAM,CAACF,KAAK,CAAC,EAAE;MAC/B;MACAP,cAAc,CAACU,QAAQ,CAACH,KAAK,EAAE,KAAK,CAAC;IACzC;IACA;IACAD,QAAQ,GAAGC,KAAK,GAAGD,QAAQ;EAC/B;;EAEA;EACAN,cAAc,CAACW,GAAG,CAACN,SAAS,EAAEC,QAAQ,CAAC;AAC3C,CAAC,CAAC;AAEF,OAAO,SAASM,kBAAkBA,CAAA,EAAG;EACjCZ,cAAc,CAACa,IAAI,CAAC,CAAC;AACzB"}]}